{% extends 'user/base.html' %}
{% block title %}@{{pro.username}} on Clutch{% endblock %}
{% block content %}

<div class="min-h-screen min-w-11/12 max-w-full flex flex-col justify-evenly m-5 gap-5 lg:flex-row">

   <div class="card card-compact bg-neutral lg:w-1/3 md:w-full h-fit">
      <div class="card-body">
         <h2 class="card-title mt-0 mb-3">@{{ pro.username }}</h2>
         <div class="avatar w-full justify-center my-3">
            <div class="w-24 rounded-full">
               <img src="{{pro.image.url}}" />
            </div>
         </div>
         <div class="flex w-full justify-center justify-items-stretch my-4 gap-4">
            <div class="h-20 w-1/4 flex flex-col items-center justify-center card bg-base-200 rounded-box">
               <span class="text-2xl font-bold">{{ pro.posts }}</span>
               <span>Posts</span>
            </div>
            <div class="h-20 w-1/4 card bg-base-200 rounded-box">
               <a href="followers/" class="h-full w-full flex flex-col items-center justify-center">
                  <span class="text-2xl font-bold">{{ pro.followers }}</span>
                  <span>Followers</span>
               </a>
            </div>
            <div class="h-20 w-1/4 card bg-base-200 rounded-box">
               <a href="followings/" class="h-full w-full flex flex-col items-center justify-center">
                  <span class="text-2xl font-bold">{{ pro.followings }}</span>
                  <span>Following</span>
               </a>
            </div>
         </div>
         <div>
            {% if isusr == True %}
            <div class="w-full flex items-center justify-center my-3">
               <a href="/settings/account" class="w-5/6 btn btn-sm btn-wide btn-primary">Edit Profile</a>
            </div>
            {% endif %}
         </div>
         <div class="flex items-center mb-4 mx-2">
            <label class="w-1/6">Name</label>
            <input type="text" class="w-4/5 input input-bordered" value="{{ pro.name }}" readonly />
         </div>
         <div class="flex items-center mb-4 mx-2">
            <label class="w-1/6">Bio</label>
            <textarea class="w-4/5 textarea textarea-bordered resize" readonly>{{ pro.bio }}</textarea>
         </div>
      </div>
   </div>

   <div class="card card-compact bg-base-300 lg:w-3/5 md:w-full h-fit">
      <div class="card-body">
         <h2 class="card-title">Posts by @{{ pro.username }}</h2>
         {% if res == 1 %}
         <span class="flex justify-center my-10"><h2>This Account is Private</h2></span>
         {% elif res == 2 %}
         <span class="flex justify-center my-10"><h2>No Posts Yet</h2></span>
         {% else %}
         <div class="flex gap-4">
         {% for p in posts %}
         <div class="w-full card bg-neutral h-fit">
            <div class="card-body">

               <div class="card-title mb-3 flex justify-start align-center">
                  <div class="Avatar">
                     <div class="w-10 rounded-full">
                        <img src="{{ p.user_image }}">
                     </div>
                     <h3>{{ p.user_name }}</h3>
                  </div>
               </div>

               <div class="w-full h-fit">
                  <p>{{ p.description }}</p>
               </div>
            </div>
         </div>
         {% endfor %}
         </div>
         {% endif %}
      </div>
   </div>
</div>

   {% endblock %}